<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.geometry.Insets?>
<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.scene.text.Font?>
<?import javafx.scene.shape.Circle?>
<?import javafx.scene.shape.Rectangle?>

<!--
    â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
    â•‘                    SMARTTASK CALENDAR - ASANA-INSPIRED DESIGN                 â•‘
    â•‘                    Modern â€¢ Professional â€¢ Beautiful                          â•‘
    â•‘                    âœ¨ NOW WITH KANBAN VIEW âœ¨                                  â•‘
    â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
-->

<BorderPane xmlns="http://javafx.com/javafx/21"
            xmlns:fx="http://javafx.com/fxml/1"
            fx:controller="com.smarttask.client.view.controller.CalendarController"
            styleClass="calendar-root"
            stylesheets="@../css/calendar.css">

    <fx:define>
        <ToggleGroup fx:id="viewToggleGroup"/>
    </fx:define>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         HEADER - Clean, minimal top bar inspired by Asana
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <top>
        <VBox spacing="0" styleClass="header-wrapper">

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 ROW 1: Logo | Today + Date | View Toggle (with Kanban!)
                 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <HBox alignment="CENTER_LEFT" spacing="0" styleClass="main-header-row">
                <padding>
                    <Insets top="10" right="24" bottom="10" left="24"/>
                </padding>

                <!-- LEFT: Brand/Logo -->
                <HBox alignment="CENTER_LEFT" spacing="8" styleClass="header-brand">
                    <Label text="ðŸ“…" style="-fx-font-size: 18;"/>
                    <Label text="Calendar" styleClass="header-title"/>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- CENTER: Navigation + Date -->
                <HBox alignment="CENTER" spacing="12" styleClass="nav-center-group">
                    <HBox alignment="CENTER" spacing="0" styleClass="nav-container">
                        <Button fx:id="prevButton" text="â€¹" onAction="#handlePrevious" styleClass="nav-btn, nav-left"/>
                        <Button fx:id="todayButton" text="Today" onAction="#handleToday" styleClass="nav-btn, nav-center"/>
                        <Button fx:id="nextButton" text="â€º" onAction="#handleNext" styleClass="nav-btn, nav-right"/>
                    </HBox>
                    <Label fx:id="currentDateLabel" text="February 2026" styleClass="date-display"/>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- RIGHT: View Toggle - âœ¨ NOW WITH KANBAN âœ¨ -->
                <HBox alignment="CENTER" spacing="0" styleClass="view-toggle-group">
                    <ToggleButton fx:id="dayViewButton" text="Day" toggleGroup="$viewToggleGroup" styleClass="view-btn, first"/>
                    <ToggleButton fx:id="weekViewButton" text="Week" toggleGroup="$viewToggleGroup" styleClass="view-btn"/>
                    <ToggleButton fx:id="monthViewButton" text="Month" toggleGroup="$viewToggleGroup" styleClass="view-btn"/>
                    <ToggleButton fx:id="yearViewButton" text="Year" toggleGroup="$viewToggleGroup" styleClass="view-btn"/>
                    <!-- âœ¨ KANBAN VIEW BUTTON âœ¨ -->
                    <ToggleButton fx:id="kanbanViewButton" text="ðŸ“‹ Kanban" toggleGroup="$viewToggleGroup" styleClass="view-btn, last, kanban-btn"/>
                </HBox>
            </HBox>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 SEPARATOR
                 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <Separator styleClass="header-separator"/>

            <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
                 ROW 2: Filters | Add Buttons
                 â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
            <HBox alignment="CENTER_LEFT" spacing="0" styleClass="filters-row">
                <padding>
                    <Insets top="8" right="24" bottom="8" left="24"/>
                </padding>

                <!-- LEFT: Filters -->
                <HBox alignment="CENTER_LEFT" spacing="10" styleClass="filter-section">
                    <Label text="Filters:" styleClass="filters-label"/>

                    <!-- Type Filter -->
                    <MenuButton fx:id="typeFilterBtn" styleClass="filter-menu-btn">
                        <graphic>
                            <HBox alignment="CENTER" spacing="5">
                                <Label styleClass="filter-btn-text"/>
                                <Label styleClass="filter-btn-arrow"/>
                            </HBox>
                        </graphic>
                        <items>
                            <CheckMenuItem fx:id="showTasks" text="ðŸ“‹  Tasks" selected="true"/>
                            <CheckMenuItem fx:id="showEvents" text="ðŸ“…  Events" selected="true"/>
                        </items>
                    </MenuButton>

                    <!-- Priority Filter -->
                    <MenuButton fx:id="priorityFilterBtn" styleClass="filter-menu-btn">
                        <graphic>
                            <HBox alignment="CENTER" spacing="5">
                                <Label styleClass="filter-btn-text"/>
                                <Label styleClass="filter-btn-arrow"/>
                            </HBox>
                        </graphic>
                        <items>
                            <CheckMenuItem fx:id="filterUrgent" selected="true">
                                <graphic>
                                    <HBox alignment="CENTER_LEFT" spacing="8">
                                        <Circle radius="5" style="-fx-fill: #ef4444;"/>
                                        <Label text="Urgent" styleClass="priority-label"/>
                                    </HBox>
                                </graphic>
                            </CheckMenuItem>
                            <CheckMenuItem fx:id="filterImportant" selected="true">
                                <graphic>
                                    <HBox alignment="CENTER_LEFT" spacing="8">
                                        <Circle radius="5" style="-fx-fill: #f97316;"/>
                                        <Label text="Important" styleClass="priority-label"/>
                                    </HBox>
                                </graphic>
                            </CheckMenuItem>
                            <CheckMenuItem fx:id="filterStandard" selected="true">
                                <graphic>
                                    <HBox alignment="CENTER_LEFT" spacing="8">
                                        <Circle radius="5" style="-fx-fill: #3b82f6;"/>
                                        <Label text="Standard" styleClass="priority-label"/>
                                    </HBox>
                                </graphic>
                            </CheckMenuItem>
                            <CheckMenuItem fx:id="filterOptional" selected="true">
                                <graphic>
                                    <HBox alignment="CENTER_LEFT" spacing="8">
                                        <Circle radius="5" style="-fx-fill: #9ca3af;"/>
                                        <Label text="Optional" styleClass="priority-label"/>
                                    </HBox>
                                </graphic>
                            </CheckMenuItem>
                        </items>
                    </MenuButton>

                    <!-- Status Filter -->
                    <MenuButton fx:id="statusFilterBtn" styleClass="filter-menu-btn">
                        <graphic>
                            <HBox alignment="CENTER" spacing="5">
                                <Label styleClass="filter-btn-text"/>
                                <Label styleClass="filter-btn-arrow"/>
                            </HBox>
                        </graphic>
                        <items>
                            <CheckMenuItem fx:id="showCompleted" text=" Show completed" selected="false"/>
                        </items>
                    </MenuButton>
                </HBox>

                <Region HBox.hgrow="ALWAYS"/>

                <!-- RIGHT: Add Buttons -->
                <HBox alignment="CENTER_RIGHT" spacing="8" styleClass="action-buttons">
                    <Button fx:id="addTaskButton" onAction="#handleAddTask" styleClass="add-btn, add-task">
                        <graphic>
                            <HBox alignment="CENTER" spacing="4">
                                <Label text="+" styleClass="add-btn-icon"/>
                                <Label text="Task" styleClass="add-btn-text"/>
                            </HBox>
                        </graphic>
                    </Button>
                    <Button fx:id="addEventButton" onAction="#handleAddEvent" styleClass="add-btn, add-event">
                        <graphic>
                            <HBox alignment="CENTER" spacing="4">
                                <Label text="+" styleClass="add-btn-icon"/>
                                <Label text="Event" styleClass="add-btn-text"/>
                            </HBox>
                        </graphic>
                    </Button>
                </HBox>
            </HBox>
        </VBox>
    </top>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         MAIN CONTENT - Split view: Calendar + Sidebar
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <center>
        <HBox styleClass="main-content">
            <!-- Calendar Area -->
            <VBox HBox.hgrow="ALWAYS" styleClass="calendar-area">
                <StackPane fx:id="calendarContainer" VBox.vgrow="ALWAYS" styleClass="calendar-container">
                    <padding>
                        <Insets top="0" right="0" bottom="0" left="0"/>
                    </padding>
                </StackPane>
            </VBox>
        </HBox>
    </center>

    <!-- â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
         RIGHT SIDEBAR - Upcoming items & Details
         â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â• -->
    <right>
        <VBox prefWidth="360" styleClass="sidebar-redesigned" VBox.vgrow="ALWAYS">

            <!-- Sidebar Header - Clean & Minimal -->
            <HBox alignment="CENTER_LEFT" styleClass="sidebar-header-new">
                <padding>
                    <Insets top="24" right="24" bottom="20" left="24"/>
                </padding>
                <VBox spacing="4">
                    <Label text="Upcoming" styleClass="sidebar-title-new"/>
                    <Label text="Next 30 days" styleClass="sidebar-subtitle-new"/>
                </VBox>
                <Region HBox.hgrow="ALWAYS"/>
            </HBox>

            <!-- Quick Stats Bar -->
            <HBox alignment="CENTER" spacing="0" styleClass="stats-bar-new">
                <padding>
                    <Insets top="0" right="24" bottom="0" left="24"/>
                </padding>
                <HBox alignment="CENTER" spacing="8" styleClass="stat-chip" HBox.hgrow="ALWAYS">
                    <Label text="ðŸ“‹" styleClass="stat-icon"/>
                    <Label fx:id="taskCountLabel" text="3" styleClass="stat-value"/>
                    <Label text="Tasks" styleClass="stat-text"/>
                </HBox>
                <HBox alignment="CENTER" spacing="8" styleClass="stat-chip" HBox.hgrow="ALWAYS">
                    <Label text="ðŸ“…" styleClass="stat-icon"/>
                    <Label fx:id="eventCountLabel" text="2" styleClass="stat-value"/>
                    <Label text="Events" styleClass="stat-text"/>
                </HBox>
            </HBox>

            <!-- Divider -->
            <HBox styleClass="sidebar-divider">
                <padding>
                    <Insets top="16" right="24" bottom="8" left="24"/>
                </padding>
                <Separator HBox.hgrow="ALWAYS"/>
            </HBox>

            <!-- Scrollable Items List - Takes remaining height -->
            <ScrollPane fitToWidth="true" fitToHeight="true"
                        hbarPolicy="NEVER" vbarPolicy="AS_NEEDED"
                        VBox.vgrow="ALWAYS" styleClass="sidebar-scroll-new">
                <VBox fx:id="upcomingContainer" spacing="12" styleClass="upcoming-container-new">
                    <padding>
                        <Insets top="8" right="24" bottom="24" left="24"/>
                    </padding>
                    <ListView fx:id="upcomingItemsList" styleClass="upcoming-list-new" VBox.vgrow="ALWAYS"/>
                </VBox>
            </ScrollPane>

            <!-- Divider before Google Calendar section -->
            <HBox styleClass="sidebar-divider">
                <padding>
                    <Insets top="8" right="24" bottom="8" left="24"/>
                </padding>
                <Separator HBox.hgrow="ALWAYS"/>
            </HBox>

            <!-- Google Calendar Sync Panel Container -->
            <VBox fx:id="googleCalendarContainer" spacing="0" styleClass="google-calendar-section">
                <padding>
                    <Insets top="8" right="16" bottom="16" left="16"/>
                </padding>
            </VBox>

        </VBox>
    </right>

</BorderPane>
