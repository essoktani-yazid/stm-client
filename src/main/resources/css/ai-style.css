/* =========================================
   1. GLOBAL & FOND
   ========================================= */
.ai-root {
  -fx-background-color: linear-gradient(to bottom right, #fdfbfb 0%, #ebedee 100%);
}

.blob-shape {
    -fx-opacity: 0.45;
    -fx-effect: dropshadow(gaussian, rgba(255, 255, 255, 0.5), 60, 0.5, 0, 0);
}

.creative-title {
  -fx-font-family: "Segoe UI", "SF Pro Display", sans-serif;
  -fx-font-size: 34px;
  -fx-font-weight: 800;
  -fx-text-fill: linear-gradient(to right, #2d3436, #636e72);
  -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.05), 2, 0, 0, 1);
}

/* =========================================
   2. BARRE DE RECHERCHE (GLASSMORPHISM)
   ========================================= */
.search-pill-glass {
  -fx-background-color: rgba(255, 255, 255, 0.65);
  -fx-background-radius: 28;
  -fx-border-color: rgba(255, 255, 255, 0.9);
  -fx-border-radius: 28;
  -fx-border-width: 2;
  -fx-effect: dropshadow(gaussian, rgba(147, 51, 234, 0.1), 30, 0, 0, 8);
}

.search-pill-glass:focused-within {
  -fx-background-color: rgba(255, 255, 255, 0.95);
  -fx-border-color: #a855f7;
  -fx-effect: dropshadow(gaussian, rgba(168, 85, 247, 0.3), 40, 0, 0, 0);
}

.search-area {
  -fx-background-color: transparent;
  -fx-background-insets: 0;
  -fx-background-radius: 0;
  -fx-text-fill: #1f2937;
  -fx-font-size: 16px;
  -fx-font-family: "Segoe UI", sans-serif;
  -fx-padding: 0 5 0 5;
}

.search-area .content, .search-area .scroll-pane, .search-area .scroll-pane .viewport {
  -fx-background-color: transparent;
}
.search-area .scroll-bar:horizontal { -fx-opacity: 0; -fx-padding: 0; }
.search-area .scroll-bar:vertical { -fx-background-color: transparent; -fx-pref-width: 0; -fx-opacity: 0; }

/* =========================================
   3. ANIMATIONS & SPINNER & CURSEUR
   ========================================= */

@keyframes spin { from { -fx-rotate: 0; } to { -fx-rotate: 360; } }
@keyframes blink { 0% { opacity: 1; } 50% { opacity: 0; } 100% { opacity: 1; } }

/* Le spinner */
.spinning { -fx-animation: spin 2s infinite linear; }
.status-pill {
    -fx-background-color: rgba(139, 92, 246, 0.1); 
    -fx-background-radius: 20;
    -fx-border-color: rgba(139, 92, 246, 0.3);
    -fx-border-radius: 20;
    -fx-padding: 5 12 5 8;
}
.icon-spinner { -fx-fill: #8b5cf6; -fx-scale-x: 0.8; -fx-scale-y: 0.8; }
.status-label { -fx-text-fill: #6d28d9; -fx-font-family: "Segoe UI", sans-serif; -fx-font-size: 13px; -fx-font-weight: bold; }

/* Le curseur clignotant */
.cursor-caret { -fx-fill: #8b5cf6; -fx-stroke: null; -fx-stroke-width: 0; }
.cursor-blink { -fx-animation: blink 1s infinite step-end; }

/* Code Pill (Inline Code) */
.ai-code-pill {
    -fx-background-color: rgba(0, 0, 0, 0.06);
    -fx-text-fill: #db2777; /* Rose */
    -fx-font-family: "Consolas", monospace;
    -fx-font-size: 13px;
    -fx-padding: 2 6 2 6;
    -fx-background-radius: 6;
    -fx-border-radius: 6;
    -fx-border-color: rgba(0, 0, 0, 0.1);
}

/* Coloration Syntaxique SQL */
.sql-keyword-danger { -fx-fill: #dc2626; -fx-font-weight: bold; -fx-font-family: "Consolas", monospace; }
.sql-keyword-safe { -fx-fill: #2563eb; -fx-font-weight: bold; -fx-font-family: "Consolas", monospace; }
.sql-keyword-logic { -fx-fill: #9333ea; -fx-font-weight: bold; -fx-font-size: 13px; }

/* =========================================
   4. BOUTONS & ACTIONS
   ========================================= */
.btn-icon-glass { -fx-background-color: transparent; -fx-cursor: hand; -fx-opacity: 0.6; }
.btn-icon-glass:hover { -fx-opacity: 1; -fx-scale-x: 1.1; -fx-scale-y: 1.1; }

.btn-send-gradient {
  -fx-background-color: linear-gradient(to bottom right, #8b5cf6, #ec4899);
  -fx-background-radius: 50;
  -fx-min-width: 40; -fx-min-height: 40;
  -fx-cursor: hand;
  -fx-effect: dropshadow(gaussian, rgba(236, 72, 153, 0.3), 10, 0, 0, 3);
}
.btn-send-gradient:hover { -fx-scale-x: 1.1; -fx-scale-y: 1.1; -fx-effect: dropshadow(gaussian, rgba(236, 72, 153, 0.5), 15, 0, 0, 5); }

.btn-stop-mode {
  -fx-background-color: #ef4444; 
  -fx-background-radius: 50;
  -fx-min-width: 40; -fx-min-height: 40;
  -fx-cursor: hand;
  -fx-effect: dropshadow(gaussian, rgba(239, 68, 68, 0.4), 10, 0, 0, 3);
}
.btn-stop-mode:hover { -fx-background-color: #dc2626; -fx-scale-x: 1.1; -fx-scale-y: 1.1; }

.btn-back { -fx-background-color: transparent; -fx-text-fill: #9ca3af; -fx-cursor: hand; -fx-font-weight: bold; -fx-font-family: "Segoe UI", sans-serif; }
.btn-back:hover { -fx-text-fill: #6b7280; -fx-translate-x: -3; }

.btn-action-small { -fx-background-color: rgba(243, 244, 246, 0.8); -fx-text-fill: #6b7280; -fx-font-size: 11px; -fx-background-radius: 8; -fx-cursor: hand; }
.btn-action-small:hover { -fx-background-color: #e5e7eb; }

/* --- BOUTONS DE CONFIRMATION --- */
.btn-confirm {
    -fx-background-color: linear-gradient(to right, #10b981, #059669);
    -fx-background-radius: 20; -fx-text-fill: white; -fx-font-weight: bold;
    -fx-font-family: "Segoe UI", sans-serif; -fx-font-size: 13px; -fx-padding: 8 20 8 20;
    -fx-cursor: hand; -fx-effect: dropshadow(gaussian, rgba(16, 185, 129, 0.4), 10, 0, 0, 2);
}
.btn-confirm:hover { -fx-scale-x: 1.05; -fx-scale-y: 1.05; -fx-effect: dropshadow(gaussian, rgba(16, 185, 129, 0.6), 15, 0, 0, 4); }
.btn-confirm:pressed { -fx-scale-x: 0.98; -fx-scale-y: 0.98; }

/* BOUTON CANCEL - STYLE NEUTRE & ÉLÉGANT */
.btn-cancel {
    -fx-background-color: white;
    -fx-background-radius: 20;
    -fx-border-color: #E5E7EB; /* Gris très clair */
    -fx-border-radius: 20;
    -fx-border-width: 1;
    -fx-text-fill: #6B7280; /* Gris texte moyen */
    -fx-font-weight: bold;
    -fx-font-family: "Segoe UI", sans-serif;
    -fx-font-size: 13px;
    -fx-padding: 7 20 7 20;
    -fx-cursor: hand;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.05), 5, 0, 0, 1);
}

.btn-cancel:hover {
    -fx-background-color: #F9FAFB;
    -fx-border-color: #D1D5DB;
    -fx-text-fill: #374151;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.08), 8, 0, 0, 2);
}

.btn-cancel:pressed {
    -fx-background-color: #F3F4F6;
    -fx-scale-x: 0.98;
    -fx-scale-y: 0.98;
}

/* =========================================
   5. TEXTE MARKDOWN & FEEDBACK CAPSULES
   ========================================= */
.ai-text-normal { -fx-fill: #374151; -fx-font-size: 14px; -fx-font-family: "Segoe UI", sans-serif; }
.ai-text-bold { -fx-fill: #111827; -fx-font-weight: 700; -fx-font-size: 14px; -fx-font-family: "Segoe UI", sans-serif; }
.ai-text-h3 { 
    -fx-fill: #7c3aed; -fx-font-weight: 800; -fx-font-size: 17px; -fx-font-family: "Segoe UI", sans-serif; 
    -fx-effect: dropshadow(gaussian, rgba(124, 58, 237, 0.1), 0, 0, 0, 1); -fx-padding: 10 0 5 0; 
}
.ai-text-error { -fx-fill: #ef4444; -fx-font-weight: bold; -fx-font-size: 14px; }
.ai-text-success { -fx-fill: #059669; -fx-font-weight: bold; -fx-font-size: 14px; }
.ai-text-italic { -fx-fill: #9ca3af; -fx-font-style: italic; -fx-font-size: 13px; }

/* --- CAPSULES DE FEEDBACK (MESSAGES) --- */
.msg-success {
    -fx-background-color: rgba(209, 250, 229, 0.8); -fx-border-color: #10b981;
    -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 8 12 8 12;
    -fx-text-fill: #065f46; -fx-font-weight: bold; -fx-font-size: 13px;
    -fx-font-family: "Segoe UI", sans-serif; -fx-graphic-text-gap: 8;
}
.msg-error {
    -fx-background-color: rgba(254, 226, 226, 0.8); -fx-border-color: #ef4444;
    -fx-border-radius: 10; -fx-background-radius: 10; -fx-padding: 8 12 8 12;
    -fx-text-fill: #991b1b; -fx-font-weight: bold; -fx-font-size: 13px;
    -fx-font-family: "Segoe UI", sans-serif; -fx-graphic-text-gap: 8;
}

/* =========================================
   6. ZONE DE RÉPONSE & SCROLL
   ========================================= */
.response-card {
  -fx-background-color: rgba(255, 255, 255, 0.85);
  -fx-background-radius: 20; -fx-border-radius: 20; -fx-border-color: white;
  -fx-padding: 25;
  -fx-effect: dropshadow(gaussian, rgba(139, 92, 246, 0.1), 30, 0, 0, 8);
}
.response-header { -fx-font-size: 14px; -fx-font-weight: bold; -fx-text-fill: #8b5cf6; -fx-font-family: "Segoe UI", sans-serif; }
.response-separator .line { -fx-border-color: rgba(0, 0, 0, 0.05); -fx-border-width: 1 0 0 0; -fx-padding: 10 0 10 0; }

.response-scroll, .response-scroll .viewport { -fx-background-color: transparent; -fx-background: transparent; -fx-padding: 5; }
.response-scroll .scroll-bar:vertical { -fx-background-color: transparent; -fx-pref-width: 8px; -fx-padding: 0 2 0 2; }
.response-scroll .scroll-bar:vertical .track { -fx-background-color: transparent; -fx-border-color: transparent; -fx-background-radius: 0; }
.response-scroll .scroll-bar:vertical .thumb { -fx-background-color: rgba(139, 92, 246, 0.2); -fx-background-radius: 10em; -fx-background-insets: 0; }
.response-scroll .scroll-bar:vertical .thumb:hover { -fx-background-color: rgba(139, 92, 246, 0.6); }
.response-scroll .scroll-bar .increment-button, .response-scroll .scroll-bar .decrement-button { -fx-padding: 0; -fx-pref-height: 0; -fx-opacity: 0; }

.response-text-flow { -fx-background-color: transparent; -fx-padding: 5 10 5 5; }

/* =========================================
   7. CARTES D'ACCUEIL (HOME)
   ========================================= */
.card-glass {
  -fx-background-color: rgba(255, 255, 255, 0.5);
  -fx-background-radius: 20; -fx-border-color: rgba(255, 255, 255, 0.7); -fx-border-radius: 20;
  -fx-pref-height: 110; -fx-alignment: TOP_LEFT; -fx-cursor: hand; -fx-padding: 15;
  -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.04), 15, 0, 0, 4);
}
.card-glass:hover {
  -fx-background-color: white; -fx-translate-y: -5; -fx-border-color: white;
  -fx-effect: dropshadow(gaussian, rgba(139, 92, 246, 0.15), 25, 0, 0, 10);
}

/* SVG utilisés dans les cartes HOME (Gros format) */
.card-svg-path { -fx-scale-x: 1.4; -fx-scale-y: 1.4; -fx-stroke-width: 0; }
.card-icon-container { -fx-padding: 5 0 10 5; -fx-alignment: CENTER_LEFT; }

.icon-rocket { -fx-fill: #0ea5e9; -fx-effect: dropshadow(gaussian, rgba(14, 165, 233, 0.4), 15, 0, 0, 0); }
.icon-bolt { -fx-fill: #eab308; -fx-effect: dropshadow(gaussian, rgba(234, 179, 8, 0.4), 15, 0, 0, 0); }
.icon-megaphone { -fx-fill: #10b981; -fx-effect: dropshadow(gaussian, rgba(16, 185, 129, 0.4), 15, 0, 0, 0); }
.icon-brain { -fx-fill: #d946ef; -fx-effect: dropshadow(gaussian, rgba(217, 70, 239, 0.4), 15, 0, 0, 0); }

.card-title { -fx-text-fill: #374151; -fx-font-weight: bold; -fx-font-size: 14px; -fx-font-family: "Segoe UI", sans-serif; }
.card-desc { -fx-text-fill: #9ca3af; -fx-font-size: 11px; -fx-font-family: "Segoe UI", sans-serif; }
.user-question-bubble {
  -fx-background-color: rgba(255, 255, 255, 0.6); -fx-background-radius: 20; -fx-border-radius: 20;
  -fx-border-color: white; -fx-font-weight: bold; -fx-padding: 15 20; -fx-text-fill: #1f2937;
  -fx-font-size: 16px; -fx-font-family: "Segoe UI", sans-serif; -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.03), 10, 0, 0, 2);
}

/* =========================================
   8. ICÔNES D'ACTION (CHAT STREAM)
   (Nouveaux styles spécifiques pour éviter les conflits avec le HOME)
   ========================================= */

/* Le conteneur rond (Bulle) */
.chat-icon-container {
    -fx-background-radius: 50%;
    -fx-min-width: 40px; -fx-min-height: 40px;
    -fx-max-width: 40px; -fx-max-height: 40px;
    -fx-alignment: CENTER;
    -fx-margin: 0 10 0 0;
}

/* Les SVG à l'intérieur des actions */
.chat-icon-svg {
    -fx-scale-x: 1.2;
    -fx-scale-y: 1.2;
    -fx-stroke-width: 0;
}

/* Couleurs de fond (Bulles) */
.container-danger { -fx-background-color: rgba(239, 68, 68, 0.1); }
.container-warning { -fx-background-color: rgba(245, 158, 11, 0.1); }
.container-success { -fx-background-color: rgba(16, 185, 129, 0.1); }

/* Couleurs des icônes (Remplissage) */
.icon-danger { -fx-fill: #EF4444; }
.icon-warning { -fx-fill: #F59E0B; }
.icon-success { -fx-fill: #10B981; }
/* =========================================
   9. MODE VOCAL (NOUVEAU)
   ========================================= */

/* Bouton Micro dans la barre */
.btn-mic-glass {
    -fx-background-color: rgba(243, 244, 246, 0.6);
    -fx-background-radius: 50;
    -fx-min-width: 40; -fx-min-height: 40;
    -fx-cursor: hand;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.05), 5, 0, 0, 1);
}
.btn-mic-glass:hover {
    -fx-background-color: rgba(243, 244, 246, 1);
    -fx-scale-x: 1.1; -fx-scale-y: 1.1;
}

/* État Actif (Rouge/Enregistrement) */
.btn-mic-active {
    -fx-background-color: #fee2e2; /* Rouge clair */
    -fx-border-color: #ef4444;
    -fx-border-radius: 50;
}
.btn-mic-active .svg-path { -fx-fill: #ef4444; }

/* OVERLAY IMMERSIF (Plein écran) */
.vocal-overlay {
    -fx-background-color: rgba(255, 255, 255, 0.90); /* Fond blanc semi-transparent */
    -fx-background-radius: 20;
    -fx-padding: 50;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.1), 0, 0, 0, 0); /* Optionnel */
}

/* Texte "I'm listening..." */
.vocal-status-text {
    -fx-font-family: "Segoe UI", sans-serif;
    -fx-font-size: 28px;
    -fx-font-weight: bold;
    -fx-text-fill: #4b5563;
}

/* Cercle qui pulse */
.vocal-pulse-circle {
    -fx-fill: linear-gradient(to bottom right, #8b5cf6, #ec4899);
    -fx-opacity: 0.8;
    -fx-effect: dropshadow(gaussian, rgba(139, 92, 246, 0.6), 40, 0.5, 0, 0);
}

/* Animation Pulse (Définie plus haut ou ici) */
@keyframes pulse-ring {
    0% { -fx-scale-x: 1.0; -fx-scale-y: 1.0; -fx-opacity: 0.8; }
    50% { -fx-scale-x: 1.2; -fx-scale-y: 1.2; -fx-opacity: 0.4; }
    100% { -fx-scale-x: 1.0; -fx-scale-y: 1.0; -fx-opacity: 0.8; }
}

.pulse-animation {
    -fx-animation: pulse-ring 2s infinite ease-in-out;
}

/* Bouton Stop dans l'overlay */
.btn-vocal-stop {
    -fx-background-color: white;
    -fx-border-color: #e5e7eb;
    -fx-border-radius: 30;
    -fx-background-radius: 30;
    -fx-padding: 10 30;
    -fx-font-size: 14px;
    -fx-text-fill: #ef4444;
    -fx-font-weight: bold;
    -fx-cursor: hand;
    -fx-effect: dropshadow(gaussian, rgba(0, 0, 0, 0.05), 10, 0, 0, 2);
}
.btn-vocal-stop:hover {
    -fx-background-color: #fef2f2;
    -fx-border-color: #ef4444;
}